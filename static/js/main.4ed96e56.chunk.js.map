{"version":3,"sources":["apis/streams.js","history.js","actions/index.js","actions/types.js","components/streams/StreamForm.js","components/streams/StreamCreate.js","components/streams/StreamEdit.js","components/Modal.js","components/streams/StreamDelete.js","components/streams/StreamList.js","components/streams/StreamShow.js","components/GoogleAuth.js","components/Header.js","components/App.js","reducers/authReducer.js","reducers/index.js","reducers/streamReducer.js","index.js"],"names":["axios","create","baseURL","createBrowserHistory","fetchStream","id","dispatch","a","streams","get","response","type","payload","data","StreamForm","renderInput","input","label","meta","className","error","touched","autoComplete","renderError","onSubmit","formValues","props","this","handleSubmit","Field","name","component","React","Component","reduxForm","form","validate","errors","title","length","description","StreamCreate","createStream","connect","getState","userId","auth","post","history","push","StreamEdit","editStream","match","params","stream","initialValues","_","pick","state","ownProps","patch","Modal","content","actions","onDismiss","ReactDOM","createPortal","onClick","e","stopPropagation","document","querySelector","StreamDelete","deleteStream","to","renderContent","renderActions","delete","StreamList","fetchStreams","currentUserId","map","key","renderAdmin","isSignedIn","style","textAlign","renderList","renderCreate","Object","values","reponse","StreamShow","videoRef","createRef","buildPlayer","player","flv","createPlayer","url","attachMediaElement","current","load","play","ref","width","controls","GoogleAuth","onAuthChange","signIn","currentUser","getId","signOut","onSignInClick","onSignOutClick","window","gapi","client","init","clientId","scope","then","auth2","getAuthInstance","listen","renderAuthButton","Header","App","path","exact","INITIAL_STATE","combineReducers","action","formReducer","mapKeys","omit","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render"],"mappings":"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","file":"static/js/main.4ed96e56.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n  baseURL: \"http://8e3995aa.ngrok.io\",\r\n});\r\n","import { createBrowserHistory } from 'history'; \r\nexport default createBrowserHistory();","import streams from \"../apis/streams\";\r\nimport history from \"../history\";\r\nimport {\r\n  SIGN_IN,\r\n  SIGN_OUT,\r\n  CREATE_STREAM,\r\n  FETCH_STREAMS,\r\n  FETCH_STREAM,\r\n  DELETE_STREAM,\r\n  EDIT_STREAM,\r\n} from \"./types\";\r\n\r\nexport const signIn = (userId) => {\r\n  return {\r\n    type: SIGN_IN,\r\n    payload: userId,\r\n  };\r\n};\r\n\r\nexport const signOut = () => {\r\n  return {\r\n    type: SIGN_OUT,\r\n  };\r\n};\r\n\r\nexport const createStream = (formValues) => async (dispatch, getState) => {\r\n  const { userId } = getState().auth;\r\n  const response = await streams.post(\"/streams\", { ...formValues, userId });\r\n\r\n  dispatch({ type: CREATE_STREAM, payload: response.data });\r\n  history.push(\"/\");\r\n};\r\n\r\nexport const fetchStreams = () => async (dispatch) => {\r\n  const reponse = await streams.get(\"/streams\");\r\n\r\n  dispatch({ type: FETCH_STREAMS, payload: reponse.data });\r\n};\r\n\r\nexport const fetchStream = (id) => async (dispatch) => {\r\n  const response = await streams.get(`/streams/${id}`);\r\n\r\n  dispatch({ type: FETCH_STREAM, payload: response.data });\r\n};\r\n\r\nexport const editStream = (id, formValues) => async (dispatch) => {\r\n  const response = await streams.patch(`/streams/${id}`, formValues);\r\n\r\n  dispatch({ type: EDIT_STREAM, payload: response.data });\r\n  history.push(\"/\");\r\n};\r\n\r\nexport const deleteStream = (id) => async (dispatch) => {\r\n  await streams.delete(`/streams/${id}`);\r\n\r\n  dispatch({ type: DELETE_STREAM, payload: id });\r\n  history.push(\"/\");\r\n};\r\n","export const SIGN_IN = \"SIGN_IN\";\r\nexport const SIGN_OUT = \"SIGN_OUT\";\r\nexport const CREATE_STREAM = \"CREATE_STREAM\";\r\nexport const FETCH_STREAMS = \"FETCH_STREAMS\";\r\nexport const FETCH_STREAM = \"FETCH_STREAM\";\r\nexport const DELETE_STREAM = \"DELETE_STREAM\";\r\nexport const EDIT_STREAM = \"EDIT_STREAM\";\r\n\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\n\r\nclass StreamForm extends React.Component {\r\n  renderError({ error, touched }) {\r\n    if (touched && error) {\r\n      return (\r\n        <div className=\"ui error message\">\r\n          <div className=\"header\">{error}</div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderInput = ({ input, label, meta }) => {\r\n    const className = `field ${meta.error && meta.touched ? \"error\" : \"\"}`;\r\n    return (\r\n      <div className={className}>\r\n        <label> {label}</label>\r\n        <input {...input} autoComplete=\"off\" />\r\n        {this.renderError(meta)}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  onSubmit = (formValues) => {\r\n    this.props.onSubmit(formValues);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form\r\n          onSubmit={this.props.handleSubmit(this.onSubmit)}\r\n          className=\"ui form error\"\r\n        >\r\n          <Field\r\n            name=\"title\"\r\n            component={this.renderInput}\r\n            label=\"Enter Title\"\r\n          />\r\n          <Field\r\n            name=\"description\"\r\n            component={this.renderInput}\r\n            label=\"Enter Description\"\r\n          />\r\n          <button className=\"ui button primary\">Submit</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = (formValues) => {\r\n  const errors = {};\r\n  if (!formValues.title || formValues.title.length < 3) {\r\n    errors.title = \"You must enter a title\";\r\n  }\r\n\r\n  if (!formValues.description) {\r\n    errors.description = \"You must enter a description\";\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nexport default reduxForm({\r\n  form: \"streamForm\",\r\n  validate,\r\n})(StreamForm);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { createStream } from \"../../actions\";\r\nimport StreamForm from \"./StreamForm\";\r\n\r\nclass StreamCreate extends React.Component {\r\n  onSubmit = (formValues) => {\r\n    this.props.createStream(formValues);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h3>Create a Stream</h3>\r\n        <StreamForm onSubmit={this.onSubmit} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null, { createStream })(StreamCreate);\r\n","import _ from \"lodash\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchStream, editStream } from \"../../actions\";\r\nimport StreamForm from \"./StreamForm\";\r\n\r\nclass StreamEdit extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchStream(this.props.match.params.id);\r\n  }\r\n\r\n  onSubmit = (formValues) => {\r\n    this.props.editStream(this.props.match.params.id, formValues);\r\n  };\r\n\r\n  render() {\r\n    if (!this.props.stream) {\r\n      return <div>Loading...</div>;\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <h3>Edit a Stream</h3>\r\n        <StreamForm\r\n          initialValues={_.pick(this.props.stream, \"title\", \"description\")}\r\n          onSubmit={this.onSubmit}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return { stream: state.streams[ownProps.match.params.id] };\r\n};\r\nexport default connect(mapStateToProps, { fetchStream, editStream })(\r\n  StreamEdit\r\n);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nconst Modal = ({ title, content, actions, onDismiss }) => {\r\n  return ReactDOM.createPortal(\r\n    <div\r\n      onClick={onDismiss}\r\n      className=\"ui dimmer modals visible active\"\r\n    >\r\n      <div\r\n        onClick={(e) => e.stopPropagation()}\r\n        className=\"ui standard modal visible active\"\r\n      >\r\n        <div className=\"header\">{title}</div>\r\n        <div className=\"content\">{content}</div>\r\n        <div className=\"actions\">{actions}</div>\r\n      </div>\r\n    </div>,\r\n    document.querySelector(\"#modal\")\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Modal from \"../Modal\";\r\nimport history from \"../../history\";\r\nimport { fetchStream, deleteStream } from \"../../actions\";\r\n\r\nclass StreamDelete extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchStream(this.props.match.params.id);\r\n  }\r\n\r\n  renderActions() {\r\n    const { id } = this.props.match.params;\r\n    return (\r\n      <>\r\n        <button\r\n          onClick={() => this.props.deleteStream(id)}\r\n          className=\"ui button negative\"\r\n        >\r\n          Delete\r\n        </button>\r\n        <Link to=\"/\" className=\"ui button\">\r\n          Cancel\r\n        </Link>\r\n      </>\r\n    );\r\n  }\r\n\r\n  renderContent() {\r\n    if (!this.props.stream) {\r\n      return \"Are you sure you want to delete this stream?\";\r\n    }\r\n\r\n    return `Are you sure you want to delete the stream with title: ${this.props.stream.title}`;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Modal\r\n        title=\"Delete Stream\"\r\n        content={this.renderContent()}\r\n        actions={this.renderActions()}\r\n        onDismiss={() => history.push(\"/\")}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return { stream: state.streams[ownProps.match.params.id] };\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchStream, deleteStream })(\r\n  StreamDelete\r\n);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { fetchStreams } from \"../../actions\";\r\n\r\nclass StreamList extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchStreams();\r\n  }\r\n\r\n  renderAdmin(stream) {\r\n    if (stream.userId === this.props.currentUserId) {\r\n      return (\r\n        <div className=\"right floated content\">\r\n          <Link to={`/streams/edit/${stream.id}`} className=\"ui button primary\">\r\n            Edit\r\n          </Link>\r\n          <Link\r\n            to={`/streams/delete/${stream.id}`}\r\n            className=\"ui button negative\"\r\n          >\r\n            Delete\r\n          </Link>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderList() {\r\n    return this.props.streams.map((stream) => {\r\n      return (\r\n        <div className=\"item\" key={stream.id}>\r\n          {this.renderAdmin(stream)}\r\n          <i className=\"large middle aligned icon camera\" />\r\n          <div className=\"content\">\r\n            <Link to={`/streams/${stream.id}`} className=\"header\">\r\n              {stream.title}\r\n            </Link>\r\n            <div className=\"description\">{stream.description}</div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  renderCreate() {\r\n    if (this.props.isSignedIn) {\r\n      return (\r\n        <div style={{ textAlign: \"right\" }}>\r\n          <Link to=\"/streams/new\" className=\"ui button primary\">\r\n            Create Stream\r\n          </Link>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Streams</h2>\r\n        <div className=\"ui celled list\">{this.renderList()}</div>\r\n        {this.renderCreate()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    streams: Object.values(state.streams),\r\n    currentUserId: state.auth.userId,\r\n    isSignedIn: state.auth.isSignedIn,\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { fetchStreams })(StreamList);\r\n","import React from \"react\";\r\nimport flv from \"flv.js\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchStream } from \"../../actions\";\r\n\r\nclass StreamShow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.videoRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { id } = this.props.match.params;\r\n\r\n    this.props.fetchStream(id);\r\n    this.buildPlayer();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.buildPlayer();\r\n  }\r\n\r\n  buildPlayer() {\r\n    if (this.player || !this.props.stream) {\r\n      return;\r\n    }\r\n\r\n    const { id } = this.props.match.params;\r\n    this.player = flv.createPlayer({\r\n      type: \"flv\",\r\n      url: `http://ecc5d513.ngrok.io/live/${id}.flv`,\r\n    });\r\n    this.player.attachMediaElement(this.videoRef.current);\r\n    this.player.load();\r\n    this.player.play();\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.stream) {\r\n      return <div>Loading...</div>;\r\n    }\r\n\r\n    const { title, description } = this.props.stream;\r\n\r\n    return (\r\n      <div>\r\n        <video ref={this.videoRef} style={{ width: \"100%\" }} controls />\r\n        <h1>{title}</h1>\r\n        <h5>{description}</h5>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return { stream: state.streams[ownProps.match.params.id] };\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchStream })(StreamShow);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { signIn, signOut } from \"../actions/index\";\r\n\r\nclass GoogleAuth extends React.Component {\r\n  componentDidMount() {\r\n    window.gapi.load(\"client:auth2\", () => {\r\n      window.gapi.client\r\n        .init({\r\n          clientId:\r\n            \"193829160090-sq9un1fr0eo305u617c2a2argrr2nnlp.apps.googleusercontent.com\",\r\n          scope: \"email\",\r\n        })\r\n        .then(() => {\r\n          this.auth = window.gapi.auth2.getAuthInstance();\r\n\r\n          this.onAuthChange(this.auth.isSignedIn.get());\r\n          this.auth.isSignedIn.listen(this.onAuthChange);\r\n        });\r\n    });\r\n  }\r\n\r\n  onAuthChange = (isSignedIn) => {\r\n    if (isSignedIn) {\r\n      this.props.signIn(this.auth.currentUser.get().getId());\r\n    } else {\r\n      this.props.signOut();\r\n    }\r\n  };\r\n\r\n  onSignInClick = () => {\r\n    this.auth.signIn();\r\n  };\r\n\r\n  onSignOutClick = () => {\r\n    this.auth.signOut();\r\n  };\r\n\r\n  renderAuthButton() {\r\n    if (this.props.isSignedIn === null) {\r\n      return null;\r\n    } else if (this.props.isSignedIn) {\r\n      return (\r\n        <button onClick={this.onSignOutClick} className=\"ui red google button\">\r\n          <i className=\"google icon\" />\r\n          Sign Out\r\n        </button>\r\n      );\r\n    } else {\r\n      return (\r\n        <button onClick={this.onSignInClick} className=\"ui red google button\">\r\n          <i className=\"google icon\" />\r\n          Sign In with Google\r\n        </button>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <div>{this.renderAuthButton()}</div>;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { isSignedIn: state.auth.isSignedIn };\r\n};\r\n\r\nexport default connect(mapStateToProps, { signIn, signOut })(GoogleAuth);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport GoogleAuth from \"./GoogleAuth\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <div className=\"ui secondary pointing menu\">\r\n      <Link to=\"/\" className=\"item\">\r\n        Streamy\r\n      </Link>\r\n      <div className=\"right menu\">\r\n        <Link to=\"/\" className=\"item\">\r\n          All Streams\r\n        </Link>\r\n        <GoogleAuth />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { Router, Route, Switch } from \"react-router-dom\";\r\nimport StreamCreate from \"./streams/StreamCreate\";\r\nimport StreamEdit from \"./streams/StreamEdit\";\r\nimport StreamDelete from \"./streams/StreamDelete\";\r\nimport StreamList from \"./streams/StreamList\";\r\nimport StreamShow from \"./streams/StreamShow\";\r\nimport Header from \"./Header\";\r\nimport history from \"../history\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <div className=\"ui container\">\r\n      <Router history={history}>\r\n        <Header />\r\n        <Switch>\r\n          <Route path=\"/\" exact component={StreamList} />\r\n          <Route path=\"/streams/new\" exact component={StreamCreate} />\r\n          <Route path=\"/streams/edit/:id\" exact component={StreamEdit} />\r\n          <Route path=\"/streams/delete/:id\" exact component={StreamDelete} />\r\n          <Route path=\"/streams/:id\" exact component={StreamShow} />\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { SIGN_IN, SIGN_OUT } from \"../actions/types\";\r\n\r\nconst INITIAL_STATE = {\r\n  isSignedIn: null,\r\n  userId: null,\r\n};\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case SIGN_IN:\r\n      return { ...state, isSignedIn: true, userId: action.payload };\r\n    case SIGN_OUT:\r\n      return { ...state, isSignedIn: false, userId: null };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport authReducer from \"./authReducer\";\r\nimport streamReducer from \"./streamReducer\";\r\n\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  streams: streamReducer,\r\n});\r\n","import _ from \"lodash\";\r\nimport {\r\n  FETCH_STREAM,\r\n  FETCH_STREAMS,\r\n  CREATE_STREAM,\r\n  DELETE_STREAM,\r\n  EDIT_STREAM,\r\n} from \"../actions/types\";\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case FETCH_STREAMS:\r\n      return { ...state, ..._.mapKeys(action.payload, \"id\") };\r\n    case FETCH_STREAM:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case CREATE_STREAM:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case EDIT_STREAM:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case DELETE_STREAM:\r\n      return _.omit(state, action.payload);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport reduxThunk from \"redux-thunk\";\r\n\r\nimport App from \"./components/App\";\r\nimport reducers from \"./reducers\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(reduxThunk))\r\n);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.querySelector(\"#root\")\r\n);\r\n"],"sourceRoot":""}